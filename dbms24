create table student (Roll_no int, name varchar(90), address varchar(90));

insert into student
   values(24,'mahesh','pune');

insert into student
  values(05,'mahi','khopeshwar');

insert into student
  values(25,'pawan','loni');

select * from student;

delimiter //
create procedure lord_cursors()
begin
declare done int default 0;
declare v_roll_no int;
declare v_name varchar(90);
declare v_address varchar(90);
declare cur_student cursor for 
select roll_no, name, address from student;
declare cur_pune cursor for 
select name from student where address = 'pune';
declare continue handler for not found set done = 1;
select name into v_name from student where roll_no = 24;
select concat('IMPLICIT CURSOR: ', v_name) as result;
set done = 0;
open cur_student;
read_loop: loop
fetch cur_student into v_roll_no, v_name, v_address;
if done then
leave read_loop;
end if;
select concat('EXPLICIT CURSOR: ', v_roll_no, '_', v_name, '_', v_address) as result;
end loop;
close cur_student;
set done = 0;
open cur_pune;
pune_loop: loop
fetch cur_pune into v_name;
if done then
leave pune_loop;
end if;
select concat('cursor with mahesh(pune): ', v_name) as result;
end loop;
close cur_pune;
select concat('cursor for loop simulation: ', roll_no, '_', name, '_', address) as result 
from student;
end //

call lord_cursors();
     //
